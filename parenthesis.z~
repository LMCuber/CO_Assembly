.equ LPAREN, 40
.equ RPAREN, 41
.equ LBRACKET, 91
.equ RBRACKET, 93
.equ LBRACE, 123
.equ RBRACE, 125

.data
	input_str: .asciz "([])"
	format_char: .asciz "%c\n"
	format_int: .asciz "%ld\n"

.text

.global main
main:
	enter $0, $0

	leaq input_str(%rip), %rdi
	call printf

	# get length of input sequence
	leaq input_str(%rip), %rdi
	call strlen

	mov %rax, %rcx
	call parenthesis

	leave
	ret

parenthesis:
	enter $0, $0

parenthesis_loop:
	#leaq input_str(%rip), %rsi
	#movb (%rcx, %rsi), %al
	#movzbq %al, %rsi
	leaq format_int(%rip), %rdi
	mov %rcx, %rsi
	
	call printf

	loop parenthesis

loop_end:
	leave
	ret

